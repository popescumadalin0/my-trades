@page "/trades"

<PageTitle>Trades</PageTitle>

<MudText Typo="Typo.h4">Trades</MudText>

<MudButton Variant="Variant.Filled" Color="Color.Success" OnClick="OpenNewTrade">New Trade</MudButton>

<MudTable Items="@TradeModels" Hover="true">
    <HeaderContent>
        <MudTh>Strategy</MudTh>
        <MudTh>Id</MudTh>
        <MudTh>Stop Loss</MudTh>
        <MudTh>Take Profit</MudTh>
        <MudTh>Entry</MudTh>
        <MudTh>PnL</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Strategy">@context.StrategyName</MudTd>
        <MudTd DataLabel="Id">@context.Id</MudTd>
        <MudTd DataLabel="StopLoss">@context.StopLoss</MudTd>
        <MudTd DataLabel="TakeProfit">@context.TakeProfit</MudTd>
        <MudTd DataLabel="Entry">@context.Entry</MudTd>
        <MudTd DataLabel="Pnl">@context.Pnl</MudTd>
    </RowTemplate>
</MudTable>

<MudDialog @bind-IsOpen="_createOpen">
    <DialogContent>
        <MudTextField Label="Strategy name" @bind-Value="_newTradeModel.StrategyName" />
        <MudTextField Label="Symbol" @bind-Value="_newTradeModel.Symbol" />
        <MudNumericField Label="Entry" @bind-Value="_newTradeModel.Entry" />
        <MudNumericField Label="StopLoss" @bind-Value="_newTradeModel.StopLoss" />
        <MudNumericField Label="TakeProfit" @bind-Value="_newTradeModel.TakeProfit" />
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="AddTrade" Variant="Variant.Filled">Add</MudButton>
        <MudButton OnClick="(()=> _createOpen=false)" Variant="Variant.Text">Cancel</MudButton>
    </DialogActions>
</MudDialog>